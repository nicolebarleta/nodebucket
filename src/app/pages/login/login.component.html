<!---
 ============================================
; Title:  login.component.html
; Author: Professor Krasso
; Date: 21 March 2021
; Modified By: Marie Nicole Barleta
; Description: The login form in a fxLayout column,
; and Angular material is used to style this whole sign-in form
;===========================================
-->

<div fxLayout="column">

    <mat-card fxFlex class="mat-elevation-z0 login-container">
      <!-- The title and subtitle of the form -->
      <mat-card-title>Employee Login Form</mat-card-title>
      <mat-card-subtitle>You must enter a valid Employee ID to proceed.</mat-card-subtitle>
    
    <mat-card-content>
        <mat-card class="mat-elevation-z0" fxLayout="column" fxLayoutGap="10px">
             <!-- The login form  resets once the submit button is clicked -->
            <form [formGroup]="loginForm" (ngSubmit)="login(); loginForm.reset()">

            <mat-card-content>
                    <mat-form-field fxflex>
                    <!-- The input will be retrieved as a empId for comparison in the database  -->
                    <input matInput
                                [formControl]="loginForm.controls['empId']"
                                placeholder="Employee ID" />
                                
               
                <!-- Error message will show if the user attempt to move on without any input  -->
                <mat-error *ngIf="loginForm.controls['empId'].hasError('required') && loginForm.controls['empId'].touched">
                    Employee ID is a required field.
                </mat-error>
                <!-- Error message will shows if the user input non numerical values  -->
                <mat-error *ngIf="loginForm.controls['empId'].hasError('pattern') && loginForm.controls['empId'].touched">
                    Employee ID must be a numerical value.
                </mat-error>
            </mat-form-field>
            
            </mat-card-content>

                <mat-card-actions align="end">
                 <!-- disabled button by default, it validates the user input in the loginForm  -->
                    <button type="submit"
                            fxFlex
                            mat-raised-button
                            [disabled]="!loginForm.valid"
                            color="primary">Submit</button>
                </mat-card-actions>
            </form>

        </mat-card>
    </mat-card-content>
    </mat-card>
</div>